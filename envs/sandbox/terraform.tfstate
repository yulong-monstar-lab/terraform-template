{
  "version": 4,
  "terraform_version": "1.5.5",
  "serial": 54,
  "lineage": "c142fc5d-bb1f-891b-c36c-492401e251e0",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "azurerm_client_config",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "client_id": "04b07795-8ddb-461a-bbee-02f9e1bf7b46",
            "id": "Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9ZDdjYTA1NTgtYjI2Zi00ZDliLTgyZTUtZDNmZDI4YzU2NmFkO3N1YnNjcmlwdGlvbklkPWZhNDBlZTNmLTBiN2QtNGY4MC04NGI1LWRkNTljNDg0ZGNlNzt0ZW5hbnRJZD0wZGVmYTAwZi05NzlmLTQ0ODAtYTgwMy0wMzQ4Yzc0MmI2NDg=",
            "object_id": "d7ca0558-b26f-4d9b-82e5-d3fd28c566ad",
            "subscription_id": "fa40ee3f-0b7d-4f80-84b5-dd59c484dce7",
            "tenant_id": "0defa00f-979f-4480-a803-0348c742b648",
            "timeouts": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "azurerm_key_vault_secret",
      "name": "db_host",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content_type": "",
            "expiration_date": null,
            "id": "https://komatsukeyvault.vault.azure.net/secrets/DBHOST/9407e5dba9f34b5bbc1e0ef17b16b1f7",
            "key_vault_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault",
            "name": "DBHOST",
            "not_before_date": null,
            "resource_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault/secrets/DBHOST/versions/9407e5dba9f34b5bbc1e0ef17b16b1f7",
            "resource_versionless_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault/secrets/DBHOST",
            "tags": {},
            "timeouts": null,
            "value": "komatsu1-postgresql-server.postgres.database.azure.com",
            "version": "9407e5dba9f34b5bbc1e0ef17b16b1f7",
            "versionless_id": "https://komatsukeyvault.vault.azure.net/secrets/DBHOST"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "azurerm_key_vault_secret",
      "name": "db_pass",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content_type": "",
            "expiration_date": null,
            "id": "https://komatsukeyvault.vault.azure.net/secrets/DBPASS/2ef7fcc0e33541fe96b369041bddc867",
            "key_vault_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault",
            "name": "DBPASS",
            "not_before_date": null,
            "resource_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault/secrets/DBPASS/versions/2ef7fcc0e33541fe96b369041bddc867",
            "resource_versionless_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault/secrets/DBPASS",
            "tags": {},
            "timeouts": null,
            "value": "mlazuredb1!",
            "version": "2ef7fcc0e33541fe96b369041bddc867",
            "versionless_id": "https://komatsukeyvault.vault.azure.net/secrets/DBPASS"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "azurerm_key_vault_secret",
      "name": "db_user",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content_type": "",
            "expiration_date": null,
            "id": "https://komatsukeyvault.vault.azure.net/secrets/DBUSER/4bae96ea21b64682acd504157c505692",
            "key_vault_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault",
            "name": "DBUSER",
            "not_before_date": null,
            "resource_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault/secrets/DBUSER/versions/4bae96ea21b64682acd504157c505692",
            "resource_versionless_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault/secrets/DBUSER",
            "tags": {},
            "timeouts": null,
            "value": "komatsuadmin",
            "version": "4bae96ea21b64682acd504157c505692",
            "versionless_id": "https://komatsukeyvault.vault.azure.net/secrets/DBUSER"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "azurerm_key_vault_secret",
      "name": "jwt_private_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content_type": "",
            "expiration_date": null,
            "id": "https://komatsukeyvault.vault.azure.net/secrets/JWT-PRIVATE-KEY-BASE64/0fdfaf61ca004749a526b49c91b1b285",
            "key_vault_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault",
            "name": "JWT-PRIVATE-KEY-BASE64",
            "not_before_date": null,
            "resource_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault/secrets/JWT-PRIVATE-KEY-BASE64/versions/0fdfaf61ca004749a526b49c91b1b285",
            "resource_versionless_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault/secrets/JWT-PRIVATE-KEY-BASE64",
            "tags": {},
            "timeouts": null,
            "value": "LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF2ZjJaZ0VTMGlVelRDQjRMOTZLNAppckZ5QnVTbXhwQjAvZllmRmtkY0V5a1VjMnd3OG1rOWxtTFNDOUw1RVphc0VSQWc1eDBueTVJaUEzNWhROHp6Ci82YTQ1UEJNKzRlWmc4TW5JaU15UHhRclVWWGZ3NTdvQVVwalNZZFFVcDN0S0N2eHhKYytLTE1pdVpFZjdKMzIKdzZZR2tVRngwb0R3YldzMFJsanA4ckxyV0pCbnNZd3ZLK1hGUWFmWkNuQSs3ZmZZbmxGdXFOalgvMnQrR2tZSQoxbE9PVVNGN0RjVXc5QzEyVmFCeDRMbVhpUU9tMU00NUFEcThKWDdQUlk5c1JyeDArT0NER0ZpellEOEYyMlplCkREKzFCcTQvY09DakFEQWwrbC93OEFJV0RTQjlxOTJzVUNOMk9BNWVIZWl4bFZtczFUMDNXOFEzekg0SStuc0UKWndJREFRQUIKLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tCg==",
            "version": "0fdfaf61ca004749a526b49c91b1b285",
            "versionless_id": "https://komatsukeyvault.vault.azure.net/secrets/JWT-PRIVATE-KEY-BASE64"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "azurerm_key_vault_secret",
      "name": "jwt_public_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content_type": "",
            "expiration_date": null,
            "id": "https://komatsukeyvault.vault.azure.net/secrets/JWT-PUBLIC-KEY-BASE64/7a50b57a4c8e4e7aaa41ff900dbe8cf9",
            "key_vault_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault",
            "name": "JWT-PUBLIC-KEY-BASE64",
            "not_before_date": null,
            "resource_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault/secrets/JWT-PUBLIC-KEY-BASE64/versions/7a50b57a4c8e4e7aaa41ff900dbe8cf9",
            "resource_versionless_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.KeyVault/vaults/komatsukeyvault/secrets/JWT-PUBLIC-KEY-BASE64",
            "tags": {},
            "timeouts": null,
            "value": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBdmYyWmdFUzBpVXpUQ0I0TDk2SzRpckZ5QnVTbXhwQjAvZllmRmtkY0V5a1VjMnd3CjhtazlsbUxTQzlMNUVaYXNFUkFnNXgwbnk1SWlBMzVoUTh6ei82YTQ1UEJNKzRlWmc4TW5JaU15UHhRclVWWGYKdzU3b0FVcGpTWWRRVXAzdEtDdnh4SmMrS0xNaXVaRWY3SjMydzZZR2tVRngwb0R3YldzMFJsanA4ckxyV0pCbgpzWXd2SytYRlFhZlpDbkErN2ZmWW5sRnVxTmpYLzJ0K0drWUkxbE9PVVNGN0RjVXc5QzEyVmFCeDRMbVhpUU9tCjFNNDVBRHE4Slg3UFJZOXNScngwK09DREdGaXpZRDhGMjJaZUREKzFCcTQvY09DakFEQWwrbC93OEFJV0RTQjkKcTkyc1VDTjJPQTVlSGVpeGxWbXMxVDAzVzhRM3pINEkrbnNFWndJREFRQUJBb0lCQUFSN1dRV25tVUtyNTBhSAp2dXlHa0NmbGE3VXg2NlUvZnlNR2pWRXZPY0xSODBPTng5SFFIYjNRY3ZnSWNBdTBMRGJ5MUhQZlFqTVJMWEE3CnFQdTZkLzhONWNxd3lJQWVnTWFVOGZWaU15czl4SS9Vb01TeW1QSisyTHpCVG1uRWcvV3dvN0ZwaC9QWjFmWGUKc0l3YVpkblRycy82WlQ3Ny82LzFHWFNYWUYxelJLWkVTb3FHeVkrV2lNQm5TRkw2RFNkM3BrUXd5VW9hUFFjNwppNWdYUkUrK1VKZ2o5c0hzVFZudFRzRThRandOc1JieU4xQ0UvUjVHelJJN2ZFcFByVnlzRlMzY214dzRpQnBHCnhpZUkvNXpCNTBLZzR4SDZySXdUcmx1SjFqYWJQMmQxTjBMcWlHeHhnVXFoTnFlR1dkKzZKNXp1c296Ky9INnoKMGlweWkxRUNnWUVBM2FEUW8zbWVaTmYybW9xU2lTd0lDL3RLb1dGeDZlQXcrOEJYbGZ5SXpSdjlVT1YyMkZaaApJSXBxbXpxaWlvdSt2MExISmtUOEFnUE9tZzdQdG1SMEdTVlR6cTM1RFJvcE12NGR5YWg1RUlwZmdzRXhNWjYzCkxyNGFva2lJYXlRckxwWjJYK0VpckxiS2J6RXNiZ0ljT01leExveU52ZVZoYUxlVjI3bFV3U3NDZ1lFQTIzU3kKRGUrREl3VnQ4NVdnOHNQWnhXaHhVUmladWZUSHpCczNOSzJvb2ptOGhJeGNWRDcvZ2FORzRmaGhyUDQ1UDM3NwpqRnpGQnhaRWYvakpMSFBTMmR5ZHFaMFNXbDVKUjU1Q1NCSHpFdTNyZEJadjIxYXMyQ1k2TkFLZDhGeW5ObitBCjdtbGwvc1ptVVlUNk8zNm5lc2NIcG9IdGZYekJSMW05VDZjSTA3VUNnWUJvUzdxRGc4TTNYNjVNVWJQZDI1dTUKejdyeU1RSkRkbDUyeXJBdEJCZDR0cGhDRG9vY0NxSlFodkxlTS95enlFbXVoZ1ZrREFpd0JneWUwU09NaUw5ZAo2Z1FEZWpsK29mWUxhaXlvYnFEeVdMdlRzNGlyK2kzb1VFd0dYSzNlQmJwUWhUd1ZxTVFCbFUrMGZlYVRxbWlQCmkrSGtydjR4QkJZUUNuejZWci84MndLQmdRQ0RjcytnQjBHK1BXZFJpdU4vNWczUDc3SklSL3IwWm9reVdXN2sKejh2OWQ2WFNveHcrbmdsL1JpU1QvNm5KNi9Dd2RzZ0htQjJ3RkFkdHU4QU1MMGd4bExLZlFPVVlXZmQ4dlcrbwpLWkEyVzJvMys2UitkZGxNRXdHejI0bHN5cUtod3hlZ05tT1FpcGdJNWlUWWRCR3ZPZjM4SDBENGREeDFGMnlNCmhGbUdMUUtCZ1FEUVBvVHN2VlF2eFRJUWk4enQ5YU1aNFVPRHo0V0JPaEdIUE1VVGxESWF0OW8xVUhMTnVEdEgKbjF0Nk40OUpvYU4ycmFXQkRZWGpUVG0ycVFwVnludG9QWFlqOUZmaEMvaW9nVlpFSTkyMG50Qk5aQTVQOWh0dwo1dEo5bVZjWkkwT2ExQjFITzIrR2d0U25obkk2UFlHSEFaQUNCMDhQQTAwOGlTOThhYUVhcnc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=",
            "version": "7a50b57a4c8e4e7aaa41ff900dbe8cf9",
            "versionless_id": "https://komatsukeyvault.vault.azure.net/secrets/JWT-PUBLIC-KEY-BASE64"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_container_registry",
      "name": "acr",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "admin_enabled": true,
            "admin_password": "zxrdF6sBNlu5O1bFU9enTckOakfiu5ZqOaVG1hS9hw+ACRAAOMrM",
            "admin_username": "komatsu",
            "anonymous_pull_enabled": false,
            "data_endpoint_enabled": false,
            "encryption": [
              {
                "enabled": false,
                "identity_client_id": "",
                "key_vault_key_id": ""
              }
            ],
            "export_policy_enabled": true,
            "georeplications": [],
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.ContainerRegistry/registries/komatsu",
            "identity": [],
            "location": "japaneast",
            "login_server": "komatsu.azurecr.io",
            "name": "komatsu",
            "network_rule_bypass_option": "AzureServices",
            "network_rule_set": [],
            "public_network_access_enabled": true,
            "quarantine_policy_enabled": false,
            "resource_group_name": "komatsu-dx-app",
            "retention_policy": [
              {
                "days": 7,
                "enabled": false
              }
            ],
            "sku": "Basic",
            "tags": null,
            "timeouts": null,
            "trust_policy": [
              {
                "enabled": false
              }
            ],
            "zone_redundancy_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIyIn0="
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "azurerm_postgresql_flexible_server",
      "name": "db",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "administrator_login": "komatsuadmin",
            "administrator_password": "mlazuredb1!",
            "authentication": [
              {
                "active_directory_auth_enabled": false,
                "password_auth_enabled": true,
                "tenant_id": ""
              }
            ],
            "backup_retention_days": 7,
            "create_mode": null,
            "customer_managed_key": [],
            "delegated_subnet_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/virtualNetworks/Vnet/subnets/private_subnet1",
            "fqdn": "komatsu1-postgresql-server.postgres.database.azure.com",
            "geo_redundant_backup_enabled": false,
            "high_availability": [],
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.DBforPostgreSQL/flexibleServers/komatsu1-postgresql-server",
            "identity": [],
            "location": "japaneast",
            "maintenance_window": [],
            "name": "komatsu1-postgresql-server",
            "point_in_time_restore_time_in_utc": null,
            "private_dns_zone_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/privateDnsZones/komatsu.postgres.database.azure.com",
            "public_network_access_enabled": false,
            "replication_role": "",
            "resource_group_name": "komatsu-dx-app",
            "sku_name": "B_Standard_B1ms",
            "source_server_id": null,
            "storage_mb": 32768,
            "tags": {
              "env": "sandbox",
              "project": "komatsu"
            },
            "timeouts": null,
            "version": "12",
            "zone": "1"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "administrator_password"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "administrator_login"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_key_vault_secret.db_pass",
            "data.azurerm_key_vault_secret.db_user",
            "module.dns.azurerm_private_dns_zone.private_dns_zone",
            "module.networking.azurerm_subnet.private_subnet",
            "module.networking.azurerm_virtual_network.virtual_network"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "azurerm_postgresql_flexible_server_database",
      "name": "db",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "charset": "UTF8",
            "collation": "en_US.utf8",
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.DBforPostgreSQL/flexibleServers/komatsu1-postgresql-server/databases/komatsu-db",
            "name": "komatsu-db",
            "server_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.DBforPostgreSQL/flexibleServers/komatsu1-postgresql-server",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "data.azurerm_key_vault_secret.db_pass",
            "data.azurerm_key_vault_secret.db_user",
            "module.database.azurerm_postgresql_flexible_server.db",
            "module.dns.azurerm_private_dns_zone.private_dns_zone",
            "module.networking.azurerm_subnet.private_subnet",
            "module.networking.azurerm_virtual_network.virtual_network"
          ]
        }
      ]
    },
    {
      "module": "module.dns",
      "mode": "managed",
      "type": "azurerm_private_dns_zone",
      "name": "private_dns_zone",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/privateDnsZones/komatsu.postgres.database.azure.com",
            "max_number_of_record_sets": 25000,
            "max_number_of_virtual_network_links": 1000,
            "max_number_of_virtual_network_links_with_registration": 100,
            "name": "komatsu.postgres.database.azure.com",
            "number_of_record_sets": 1,
            "resource_group_name": "komatsu-dx-app",
            "soa_record": [
              {
                "email": "azureprivatedns-host.microsoft.com",
                "expire_time": 2419200,
                "fqdn": "komatsu.postgres.database.azure.com.",
                "host_name": "azureprivatedns.net",
                "minimum_ttl": 10,
                "refresh_time": 3600,
                "retry_time": 300,
                "serial_number": 1,
                "tags": {},
                "ttl": 3600
              }
            ],
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.dns",
      "mode": "managed",
      "type": "azurerm_private_dns_zone_virtual_network_link",
      "name": "private_dns_zone",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/privateDnsZones/komatsu.postgres.database.azure.com/virtualNetworkLinks/virtual_network_link1",
            "name": "virtual_network_link1",
            "private_dns_zone_name": "komatsu.postgres.database.azure.com",
            "registration_enabled": false,
            "resource_group_name": "komatsu-dx-app",
            "tags": null,
            "timeouts": null,
            "virtual_network_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/virtualNetworks/Vnet"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.dns.azurerm_private_dns_zone.private_dns_zone",
            "module.networking.azurerm_virtual_network.virtual_network"
          ]
        }
      ]
    },
    {
      "module": "module.networking",
      "mode": "managed",
      "type": "azurerm_app_service_virtual_network_swift_connection",
      "name": "protected_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "app_service_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Web/sites/nestjs6-web-app",
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Web/sites/nestjs6-web-app/config/virtualNetwork",
            "subnet_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/virtualNetworks/Vnet/subnets/protected_subnet1",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_key_vault_secret.db_host",
            "data.azurerm_key_vault_secret.db_pass",
            "data.azurerm_key_vault_secret.db_user",
            "data.azurerm_key_vault_secret.jwt_private_key",
            "data.azurerm_key_vault_secret.jwt_public_key",
            "module.networking.azurerm_subnet.protected_subnet",
            "module.networking.azurerm_virtual_network.virtual_network",
            "module.webapp.azurerm_linux_web_app.webapp",
            "module.webapp.azurerm_service_plan.webapp"
          ]
        }
      ]
    },
    {
      "module": "module.networking",
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "private_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/networkSecurityGroups/private_subnet_nsg1",
            "location": "japaneast",
            "name": "private_subnet_nsg1",
            "resource_group_name": "komatsu-dx-app",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "5432",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "AllowPostgreSQL",
                "priority": 1001,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": {
              "env": "sandbox",
              "project": "komatsu"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.networking",
      "mode": "managed",
      "type": "azurerm_network_security_group",
      "name": "protected_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/networkSecurityGroups/protected_subnet_nsg1",
            "location": "japaneast",
            "name": "protected_subnet_nsg1",
            "resource_group_name": "komatsu-dx-app",
            "security_rule": [
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "443",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "allow_https",
                "priority": 1002,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "5432",
                "destination_port_ranges": [],
                "direction": "Outbound",
                "name": "AllowAnyCustom5432Outbound",
                "priority": 1000,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Allow",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "80",
                "destination_port_ranges": [],
                "direction": "Inbound",
                "name": "allow_http",
                "priority": 1001,
                "protocol": "Tcp",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              },
              {
                "access": "Deny",
                "description": "",
                "destination_address_prefix": "*",
                "destination_address_prefixes": [],
                "destination_application_security_group_ids": [],
                "destination_port_range": "*",
                "destination_port_ranges": [],
                "direction": "Outbound",
                "name": "deny_all_outbound",
                "priority": 4096,
                "protocol": "*",
                "source_address_prefix": "*",
                "source_address_prefixes": [],
                "source_application_security_group_ids": [],
                "source_port_range": "*",
                "source_port_ranges": []
              }
            ],
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.networking",
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "private_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.0.1.0/24"
            ],
            "delegation": [
              {
                "name": "fs",
                "service_delegation": [
                  {
                    "actions": [
                      "Microsoft.Network/virtualNetworks/subnets/join/action"
                    ],
                    "name": "Microsoft.DBforPostgreSQL/flexibleServers"
                  }
                ]
              }
            ],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/virtualNetworks/Vnet/subnets/private_subnet1",
            "name": "private_subnet1",
            "private_endpoint_network_policies_enabled": true,
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "komatsu-dx-app",
            "service_endpoint_policy_ids": null,
            "service_endpoints": null,
            "timeouts": null,
            "virtual_network_name": "Vnet"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.networking.azurerm_virtual_network.virtual_network"
          ]
        }
      ]
    },
    {
      "module": "module.networking",
      "mode": "managed",
      "type": "azurerm_subnet",
      "name": "protected_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_prefixes": [
              "10.0.2.0/24"
            ],
            "delegation": [
              {
                "name": "webapp",
                "service_delegation": [
                  {
                    "actions": [
                      "Microsoft.Network/virtualNetworks/subnets/action"
                    ],
                    "name": "Microsoft.Web/serverFarms"
                  }
                ]
              }
            ],
            "enforce_private_link_endpoint_network_policies": false,
            "enforce_private_link_service_network_policies": false,
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/virtualNetworks/Vnet/subnets/protected_subnet1",
            "name": "protected_subnet1",
            "private_endpoint_network_policies_enabled": true,
            "private_link_service_network_policies_enabled": true,
            "resource_group_name": "komatsu-dx-app",
            "service_endpoint_policy_ids": null,
            "service_endpoints": null,
            "timeouts": null,
            "virtual_network_name": "Vnet"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.networking.azurerm_virtual_network.virtual_network"
          ]
        }
      ]
    },
    {
      "module": "module.networking",
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "private_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/virtualNetworks/Vnet/subnets/private_subnet1",
            "network_security_group_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/networkSecurityGroups/private_subnet_nsg1",
            "subnet_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/virtualNetworks/Vnet/subnets/private_subnet1",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.networking.azurerm_network_security_group.private_subnet",
            "module.networking.azurerm_subnet.private_subnet",
            "module.networking.azurerm_virtual_network.virtual_network"
          ]
        }
      ]
    },
    {
      "module": "module.networking",
      "mode": "managed",
      "type": "azurerm_subnet_network_security_group_association",
      "name": "protected_subnet",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/virtualNetworks/Vnet/subnets/protected_subnet1",
            "network_security_group_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/networkSecurityGroups/protected_subnet_nsg1",
            "subnet_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/virtualNetworks/Vnet/subnets/protected_subnet1",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.networking.azurerm_network_security_group.protected_subnet",
            "module.networking.azurerm_subnet.protected_subnet",
            "module.networking.azurerm_virtual_network.virtual_network"
          ]
        }
      ]
    },
    {
      "module": "module.networking",
      "mode": "managed",
      "type": "azurerm_virtual_network",
      "name": "virtual_network",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "address_space": [
              "10.0.0.0/16"
            ],
            "bgp_community": "",
            "ddos_protection_plan": [],
            "dns_servers": [],
            "edge_zone": "",
            "encryption": [],
            "flow_timeout_in_minutes": 0,
            "guid": "dfa89da5-6b0c-406e-9d9e-f2b6985ec6b5",
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Network/virtualNetworks/Vnet",
            "location": "japaneast",
            "name": "Vnet",
            "resource_group_name": "komatsu-dx-app",
            "subnet": [],
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.webapp",
      "mode": "managed",
      "type": "azurerm_linux_web_app",
      "name": "webapp",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "app_settings": {
              "APP_ENV": "development",
              "APP_PORT": "3000",
              "DB_HOST": "komatsu1-postgresql-server.postgres.database.azure.com",
              "DB_NAME": "komatsu-db",
              "DB_PASS": "mlazuredb1!",
              "DB_PORT": "5432",
              "DB_SSL": "true",
              "DB_USER": "komatsuadmin",
              "DEFAULT_ADMIN_USER_PASSWORD": "komatsupwd",
              "JWT_ACCESS_TOKEN_EXP_IN_SEC": "3600",
              "JWT_PRIVATE_KEY_BASE64": "LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF2ZjJaZ0VTMGlVelRDQjRMOTZLNAppckZ5QnVTbXhwQjAvZllmRmtkY0V5a1VjMnd3OG1rOWxtTFNDOUw1RVphc0VSQWc1eDBueTVJaUEzNWhROHp6Ci82YTQ1UEJNKzRlWmc4TW5JaU15UHhRclVWWGZ3NTdvQVVwalNZZFFVcDN0S0N2eHhKYytLTE1pdVpFZjdKMzIKdzZZR2tVRngwb0R3YldzMFJsanA4ckxyV0pCbnNZd3ZLK1hGUWFmWkNuQSs3ZmZZbmxGdXFOalgvMnQrR2tZSQoxbE9PVVNGN0RjVXc5QzEyVmFCeDRMbVhpUU9tMU00NUFEcThKWDdQUlk5c1JyeDArT0NER0ZpellEOEYyMlplCkREKzFCcTQvY09DakFEQWwrbC93OEFJV0RTQjlxOTJzVUNOMk9BNWVIZWl4bFZtczFUMDNXOFEzekg0SStuc0UKWndJREFRQUIKLS0tLS1FTkQgUFVCTElDIEtFWS0tLS0tCg==",
              "JWT_PUBLIC_KEY_BASE64": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBdmYyWmdFUzBpVXpUQ0I0TDk2SzRpckZ5QnVTbXhwQjAvZllmRmtkY0V5a1VjMnd3CjhtazlsbUxTQzlMNUVaYXNFUkFnNXgwbnk1SWlBMzVoUTh6ei82YTQ1UEJNKzRlWmc4TW5JaU15UHhRclVWWGYKdzU3b0FVcGpTWWRRVXAzdEtDdnh4SmMrS0xNaXVaRWY3SjMydzZZR2tVRngwb0R3YldzMFJsanA4ckxyV0pCbgpzWXd2SytYRlFhZlpDbkErN2ZmWW5sRnVxTmpYLzJ0K0drWUkxbE9PVVNGN0RjVXc5QzEyVmFCeDRMbVhpUU9tCjFNNDVBRHE4Slg3UFJZOXNScngwK09DREdGaXpZRDhGMjJaZUREKzFCcTQvY09DakFEQWwrbC93OEFJV0RTQjkKcTkyc1VDTjJPQTVlSGVpeGxWbXMxVDAzVzhRM3pINEkrbnNFWndJREFRQUJBb0lCQUFSN1dRV25tVUtyNTBhSAp2dXlHa0NmbGE3VXg2NlUvZnlNR2pWRXZPY0xSODBPTng5SFFIYjNRY3ZnSWNBdTBMRGJ5MUhQZlFqTVJMWEE3CnFQdTZkLzhONWNxd3lJQWVnTWFVOGZWaU15czl4SS9Vb01TeW1QSisyTHpCVG1uRWcvV3dvN0ZwaC9QWjFmWGUKc0l3YVpkblRycy82WlQ3Ny82LzFHWFNYWUYxelJLWkVTb3FHeVkrV2lNQm5TRkw2RFNkM3BrUXd5VW9hUFFjNwppNWdYUkUrK1VKZ2o5c0hzVFZudFRzRThRandOc1JieU4xQ0UvUjVHelJJN2ZFcFByVnlzRlMzY214dzRpQnBHCnhpZUkvNXpCNTBLZzR4SDZySXdUcmx1SjFqYWJQMmQxTjBMcWlHeHhnVXFoTnFlR1dkKzZKNXp1c296Ky9INnoKMGlweWkxRUNnWUVBM2FEUW8zbWVaTmYybW9xU2lTd0lDL3RLb1dGeDZlQXcrOEJYbGZ5SXpSdjlVT1YyMkZaaApJSXBxbXpxaWlvdSt2MExISmtUOEFnUE9tZzdQdG1SMEdTVlR6cTM1RFJvcE12NGR5YWg1RUlwZmdzRXhNWjYzCkxyNGFva2lJYXlRckxwWjJYK0VpckxiS2J6RXNiZ0ljT01leExveU52ZVZoYUxlVjI3bFV3U3NDZ1lFQTIzU3kKRGUrREl3VnQ4NVdnOHNQWnhXaHhVUmladWZUSHpCczNOSzJvb2ptOGhJeGNWRDcvZ2FORzRmaGhyUDQ1UDM3NwpqRnpGQnhaRWYvakpMSFBTMmR5ZHFaMFNXbDVKUjU1Q1NCSHpFdTNyZEJadjIxYXMyQ1k2TkFLZDhGeW5ObitBCjdtbGwvc1ptVVlUNk8zNm5lc2NIcG9IdGZYekJSMW05VDZjSTA3VUNnWUJvUzdxRGc4TTNYNjVNVWJQZDI1dTUKejdyeU1RSkRkbDUyeXJBdEJCZDR0cGhDRG9vY0NxSlFodkxlTS95enlFbXVoZ1ZrREFpd0JneWUwU09NaUw5ZAo2Z1FEZWpsK29mWUxhaXlvYnFEeVdMdlRzNGlyK2kzb1VFd0dYSzNlQmJwUWhUd1ZxTVFCbFUrMGZlYVRxbWlQCmkrSGtydjR4QkJZUUNuejZWci84MndLQmdRQ0RjcytnQjBHK1BXZFJpdU4vNWczUDc3SklSL3IwWm9reVdXN2sKejh2OWQ2WFNveHcrbmdsL1JpU1QvNm5KNi9Dd2RzZ0htQjJ3RkFkdHU4QU1MMGd4bExLZlFPVVlXZmQ4dlcrbwpLWkEyVzJvMys2UitkZGxNRXdHejI0bHN5cUtod3hlZ05tT1FpcGdJNWlUWWRCR3ZPZjM4SDBENGREeDFGMnlNCmhGbUdMUUtCZ1FEUVBvVHN2VlF2eFRJUWk4enQ5YU1aNFVPRHo0V0JPaEdIUE1VVGxESWF0OW8xVUhMTnVEdEgKbjF0Nk40OUpvYU4ycmFXQkRZWGpUVG0ycVFwVnludG9QWFlqOUZmaEMvaW9nVlpFSTkyMG50Qk5aQTVQOWh0dwo1dEo5bVZjWkkwT2ExQjFITzIrR2d0U25obkk2UFlHSEFaQUNCMDhQQTAwOGlTOThhYUVhcnc9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=",
              "JWT_REFRESH_TOKEN_EXP_IN_SEC": "7200",
              "WEBSITES_ENABLE_APP_SERVICE_STORAGE": "false"
            },
            "auth_settings": [],
            "auth_settings_v2": [],
            "backup": [],
            "client_affinity_enabled": false,
            "client_certificate_enabled": false,
            "client_certificate_exclusion_paths": "",
            "client_certificate_mode": "Required",
            "connection_string": [],
            "custom_domain_verification_id": "D2D02871FBFC9EFD07149CD76A84299043A991213CA14EA995AAE276EAA4F4FF",
            "default_hostname": "nestjs6-web-app.azurewebsites.net",
            "enabled": true,
            "hosting_environment_id": "",
            "https_only": true,
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Web/sites/nestjs6-web-app",
            "identity": [],
            "key_vault_reference_identity_id": "SystemAssigned",
            "kind": "app,linux,container",
            "location": "japaneast",
            "logs": [],
            "name": "nestjs6-web-app",
            "outbound_ip_address_list": [
              "20.48.13.184",
              "20.194.145.110",
              "20.194.145.149",
              "20.194.145.173",
              "20.194.145.180",
              "20.194.145.203",
              "20.27.132.35",
              "4.241.144.44",
              "4.241.144.46",
              "4.241.144.65",
              "20.27.134.22",
              "4.241.144.70",
              "20.210.64.9"
            ],
            "outbound_ip_addresses": "20.48.13.184,20.194.145.110,20.194.145.149,20.194.145.173,20.194.145.180,20.194.145.203,20.27.132.35,4.241.144.44,4.241.144.46,4.241.144.65,20.27.134.22,4.241.144.70,20.210.64.9",
            "possible_outbound_ip_address_list": [
              "20.48.13.184",
              "20.194.145.110",
              "20.194.145.149",
              "20.194.145.173",
              "20.194.145.180",
              "20.194.145.203",
              "20.27.132.35",
              "4.241.144.44",
              "4.241.144.46",
              "4.241.144.65",
              "20.27.134.22",
              "4.241.144.70",
              "20.27.134.29",
              "4.241.144.112",
              "4.241.144.120",
              "20.27.129.168",
              "20.210.25.181",
              "4.241.144.126",
              "20.27.133.99",
              "20.210.27.142",
              "20.27.130.146",
              "20.27.132.87",
              "20.27.132.88",
              "20.27.131.95",
              "20.48.13.184",
              "20.194.145.110",
              "20.194.145.149",
              "20.194.145.173",
              "20.194.145.180",
              "20.194.145.203",
              "4.241.144.155",
              "4.241.144.176",
              "4.241.144.183",
              "20.27.135.43",
              "4.241.144.214",
              "4.241.144.226",
              "20.210.64.9"
            ],
            "possible_outbound_ip_addresses": "20.48.13.184,20.194.145.110,20.194.145.149,20.194.145.173,20.194.145.180,20.194.145.203,20.27.132.35,4.241.144.44,4.241.144.46,4.241.144.65,20.27.134.22,4.241.144.70,20.27.134.29,4.241.144.112,4.241.144.120,20.27.129.168,20.210.25.181,4.241.144.126,20.27.133.99,20.210.27.142,20.27.130.146,20.27.132.87,20.27.132.88,20.27.131.95,20.48.13.184,20.194.145.110,20.194.145.149,20.194.145.173,20.194.145.180,20.194.145.203,4.241.144.155,4.241.144.176,4.241.144.183,20.27.135.43,4.241.144.214,4.241.144.226,20.210.64.9",
            "public_network_access_enabled": true,
            "resource_group_name": "komatsu-dx-app",
            "service_plan_id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Web/serverfarms/komatsu-service-plan",
            "site_config": [
              {
                "always_on": true,
                "api_definition_url": "",
                "api_management_api_id": "",
                "app_command_line": "",
                "application_stack": [
                  {
                    "docker_image": "",
                    "docker_image_name": "appsvc/staticsite:latest",
                    "docker_image_tag": "",
                    "docker_registry_password": "",
                    "docker_registry_url": "https://mcr.microsoft.com",
                    "docker_registry_username": "",
                    "dotnet_version": "",
                    "go_version": "",
                    "java_server": "",
                    "java_server_version": "",
                    "java_version": "",
                    "node_version": "",
                    "php_version": "",
                    "python_version": "",
                    "ruby_version": ""
                  }
                ],
                "auto_heal_enabled": false,
                "auto_heal_setting": [],
                "container_registry_managed_identity_client_id": "",
                "container_registry_use_managed_identity": false,
                "cors": [],
                "default_documents": [
                  "Default.htm",
                  "Default.html",
                  "Default.asp",
                  "index.htm",
                  "index.html",
                  "iisstart.htm",
                  "default.aspx",
                  "index.php",
                  "hostingstart.html"
                ],
                "detailed_error_logging_enabled": false,
                "ftps_state": "Disabled",
                "health_check_eviction_time_in_min": 0,
                "health_check_path": "",
                "http2_enabled": false,
                "ip_restriction": [],
                "linux_fx_version": "DOCKER|mcr.microsoft.com/appsvc/staticsite:latest",
                "load_balancing_mode": "LeastRequests",
                "local_mysql_enabled": false,
                "managed_pipeline_mode": "Integrated",
                "minimum_tls_version": "1.2",
                "remote_debugging_enabled": false,
                "remote_debugging_version": "VS2019",
                "scm_ip_restriction": [],
                "scm_minimum_tls_version": "1.2",
                "scm_type": "None",
                "scm_use_main_ip_restriction": false,
                "use_32_bit_worker": true,
                "vnet_route_all_enabled": false,
                "websockets_enabled": false,
                "worker_count": 1
              }
            ],
            "site_credential": [
              {
                "name": "$nestjs6-web-app",
                "password": "d1ybardosFaNBHD8c8PtE7e3axE5TjeG6WnzwZTSjocqsu5zXuloC7fCaThA"
              }
            ],
            "sticky_settings": [],
            "storage_account": [],
            "tags": {
              "env": "sandbox",
              "project": "komatsu"
            },
            "timeouts": null,
            "virtual_network_subnet_id": "",
            "zip_deploy_file": ""
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "app_settings"
              },
              {
                "type": "index",
                "value": {
                  "value": "DB_HOST",
                  "type": "string"
                }
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "app_settings"
              },
              {
                "type": "index",
                "value": {
                  "value": "DB_PASS",
                  "type": "string"
                }
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "app_settings"
              },
              {
                "type": "index",
                "value": {
                  "value": "DB_USER",
                  "type": "string"
                }
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "app_settings"
              },
              {
                "type": "index",
                "value": {
                  "value": "JWT_PRIVATE_KEY_BASE64",
                  "type": "string"
                }
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "app_settings"
              },
              {
                "type": "index",
                "value": {
                  "value": "JWT_PUBLIC_KEY_BASE64",
                  "type": "string"
                }
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.azurerm_key_vault_secret.db_host",
            "data.azurerm_key_vault_secret.db_pass",
            "data.azurerm_key_vault_secret.db_user",
            "data.azurerm_key_vault_secret.jwt_private_key",
            "data.azurerm_key_vault_secret.jwt_public_key",
            "module.webapp.azurerm_service_plan.webapp"
          ]
        }
      ]
    },
    {
      "module": "module.webapp",
      "mode": "managed",
      "type": "azurerm_service_plan",
      "name": "webapp",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "app_service_environment_id": "",
            "id": "/subscriptions/fa40ee3f-0b7d-4f80-84b5-dd59c484dce7/resourceGroups/komatsu-dx-app/providers/Microsoft.Web/serverfarms/komatsu-service-plan",
            "kind": "linux",
            "location": "japaneast",
            "maximum_elastic_worker_count": 1,
            "name": "komatsu-service-plan",
            "os_type": "Linux",
            "per_site_scaling_enabled": false,
            "reserved": true,
            "resource_group_name": "komatsu-dx-app",
            "sku_name": "B1",
            "tags": {
              "env": "sandbox",
              "project": "komatsu"
            },
            "timeouts": null,
            "worker_count": 1,
            "zone_balancing_enabled": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfX0="
        }
      ]
    }
  ],
  "check_results": null
}
